<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Management Services &mdash; Clinicult 0.2 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Security" href="security.html" />
    <link rel="prev" title="Infrastructure" href="infrastructure.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html"><img src="_static/a.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scenarios.html">Scenarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Admin Management Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#clinic-management">Clinic Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#onboarding">Onboarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clinic-actions">Clinic Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#users-management">Users Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clinic-labeling">Clinic Labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clinic-modules">Clinic Modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#global-settings">Global settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-lists">Data Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notifications">Notifications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#admin-reports">Admin Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-servers">Windows Servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Clinicult</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Admin Management Services</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/admin_management_services.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="admin-management-services">
<h1>Admin Management Services<a class="headerlink" href="#admin-management-services" title="Permalink to this headline">¶</a></h1>
<div class="section" id="clinic-management">
<h2>Clinic Management<a class="headerlink" href="#clinic-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="onboarding">
<h3>Onboarding<a class="headerlink" href="#onboarding" title="Permalink to this headline">¶</a></h3>
<p>Clinics On-boarding will is interactive procedure in the system. this procedure may be invoke only by platform admin (aka root).
the procedure will create new clinic in Clinicult platform.
The on-boarding procedure can create a clinic on target choosen deployment environment.</p>
<p>in the Admin Web UI, will be an option to create new Clinic. once clicked, the admin will specify the Clinic name and the target deployment environment.</p>
<p>example: Clinic <code class="docutils literal notranslate"><span class="pre">CT-Arad</span></code> on environment <code class="docutils literal notranslate"><span class="pre">Production</span></code>.</p>
<p>I addition to this information the admin will specify the clinic’s admin phone and mail. and the end of the on-boarding procedure, the admin will get sms and mail with the environment information. the credentials details, will be temporary and <strong>will requires update after his first login</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Its important to enforce the password update in his first Login.</p>
</div>
<p>The Flow will run the following steps:</p>
<ol class="arabic simple">
<li><p>Create new EVS cluster</p></li>
<li><p>Create new databases for the clinic</p></li>
<li><p>open security-group and ports</p></li>
<li><p>mount Load-balancer to the relevant services</p></li>
<li><p>Create new User (admin) for the clinic in the User-service</p></li>
<li><p>Create sub-domain for the clinic. (more information in <a class="reference internal" href="security.html#domains"><span class="std std-ref">Domains</span></a> section)</p></li>
<li><p>push configuration from admin</p></li>
<li><p>open Amplify for serving to the new environment with the new sub-domain</p></li>
</ol>
<p>this flow will run with terraform script on <a class="reference external" href="https://aws.amazon.com/lambda/">Lambda</a> context with specific permissions for on-boarding role.</p>
<p>After creation, the platform admin will be able to see the clinic in the Admin page, and to manage this environment</p>
</div>
<div class="section" id="clinic-actions">
<h3>Clinic Actions<a class="headerlink" href="#clinic-actions" title="Permalink to this headline">¶</a></h3>
<p>In the Admin Management services will be a dashboard to manage all the running clinics on AWS platform.
the view will contains a table with all the clinics, and the status of the clinic. there will be three statues:</p>
<ol class="arabic simple">
<li><p><strong>Active</strong> - all services are up and running and the hostname route requests to the hosts.</p></li>
<li><p><strong>Disable</strong> - Services are Down/removed and the data are still exists. the dome will not route requests to hosts.</p></li>
<li><p><strong>Deleted</strong> - All active resources will be deleted but the data will be archived. the domain will be released</p></li>
</ol>
<p>in the dashboard, will be an option to update the clinic state.</p>
<p>Furthermore, there will be an option to update the clinic settings. More information about the settings you can find in <a class="reference internal" href="#settings"><span class="std std-ref">Settings</span></a> chapter.</p>
<p>Another Option will be to update the users for each clinic. more about users you can find in <a class="reference internal" href="#users-management"><span class="std std-ref">Users Management</span></a> section</p>
</div>
<div class="section" id="users-management">
<h3>Users Management<a class="headerlink" href="#users-management" title="Permalink to this headline">¶</a></h3>
<p>Each Clinic has Users lists that have permission to access the clinic. Each User has his own role. the roles in the clinic are:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Admin</span></code> - manage the clinic</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Nurse</span></code> - handle the states for Nurse</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Doctor</span></code> - handle the state for doctor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Office</span></code> - manage the other states</p></li>
</ol>
<p>the admin will have an option to Create/Update/Delete users in the clinic. update Role of user or Deleting a user will be take place only in those conditions:</p>
<ol class="arabic simple">
<li><p>User has logged out and logged back in</p></li>
<li><p>expiration time perioed has expired</p></li>
</ol>
<p>Those conditions are due to token management mechanisim.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can enforce attention list per service on modified users. but its not a must for phase 1</p>
</div>
</div>
<div class="section" id="clinic-labeling">
<h3>Clinic Labeling<a class="headerlink" href="#clinic-labeling" title="Permalink to this headline">¶</a></h3>
<p>Each Clinic can customize the view of the clinic’s UI. for example <cite>clinic Logo</cite>.
there will be a view in the clinic to upload or remove files that add client modification.</p>
<p>If not file has added, there will be some defaults to use them in the clients.</p>
</div>
<div class="section" id="clinic-modules">
<h3>Clinic Modules<a class="headerlink" href="#clinic-modules" title="Permalink to this headline">¶</a></h3>
<p>Each clinic will have some Modules that may be use. for example:</p>
<ol class="arabic simple">
<li><p>Calendar</p></li>
<li><p>Family care</p></li>
<li><p>etc.</p></li>
</ol>
<p>Each module will have an option to enable or disable from the clinic view.</p>
</div>
</div>
<div class="section" id="settings">
<h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="global-settings">
<h3>Global settings<a class="headerlink" href="#global-settings" title="Permalink to this headline">¶</a></h3>
<p>Here will be All the configuration for the platform. there will be 3 kinds of configurations:</p>
<ol class="arabic simple">
<li><p>Global Admin configuration - for example admin mail for SMS notifications</p></li>
<li><p>Default Clinic configuration - default values for each config field</p></li>
<li><p>Clinic configuration - config per clinic for example clinic Language</p></li>
</ol>
<p>The Clinic will use all the default configuration after the on-boarding phase. the platform Admin will have the option to updat this default values in the clinic view.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The clinic configuration will be in the Clinic view and the other configuration will have dofferent global view on the admin management service client.</p>
</div>
</div>
<div class="section" id="data-lists">
<h3>Data Lists<a class="headerlink" href="#data-lists" title="Permalink to this headline">¶</a></h3>
<p>In Admin Management Service there will be an option to manage al UI Lists data.
for example, the clinic has feature that the <em>Doctor</em> will have option to give medicen to the <em>patient</em>. the Doctor can select the medicen from drop down list. the list data can be managed from this screen.</p>
<p>The Admin will have option to add <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">data</span></code> argument. Each Data list will have name. this name and list data will be pushed to the services, and can be rendered in the UI by the name.</p>
<p>For example: Admin has added new Data list of <code class="docutils literal notranslate"><span class="pre">Cities</span></code>. the Admin service push the data to the Clinic management service. and now the client can get it.</p>
<p>Client: <code class="docutils literal notranslate"><span class="pre">app.clinic_name.clinicult2.com</span></code> will send request to:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{GET} managment.clinic_name.clinicult2.com/data?name=cities</span>
</pre></div>
</div>
<p>and the response will be:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;Tel-Aviv&quot;</span><span class="p">,</span> <span class="s2">&quot;Jerusalem&quot;</span><span class="p">,</span> <span class="s2">&quot;Hadera&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There will be an option to import Data lists from CSV file.</p>
</div>
</div>
<div class="section" id="notifications">
<h3>Notifications<a class="headerlink" href="#notifications" title="Permalink to this headline">¶</a></h3>
<p>All the Global settings will be stored in the services’s database. the data the relevant for the clinic, should be pushed to the clinic.</p>
<p>Cutrently there will be <strong>no option to send requests from the admin to the clinics</strong> duw to security and performance. hence, we will send notifications to the clinic about changes in the <a class="reference internal" href="infrastructure.html#sns"><span class="std std-ref">SNS</span></a> mechanisim.</p>
<p>for example, the Admin can send a message:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;Type&quot;</span> <span class="p">:</span> <span class="s2">&quot;ConfigurationDataListUpdate&quot;</span><span class="p">,</span>
    <span class="nt">&quot;MessageId&quot;</span> <span class="p">:</span> <span class="s2">&quot;165545c9-2a5c-472c-8df2-7ff2be2b3b1b&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Token&quot;</span> <span class="p">:</span> <span class="s2">&quot;2336412f37...&quot;</span><span class="p">,</span>
    <span class="nt">&quot;TopicArn&quot;</span> <span class="p">:</span> <span class="s2">&quot;arn:aws:sns:us-west-2:123456789012:Clinic-X-SettingsTopic&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Message&quot;</span> <span class="p">:</span> <span class="s2">&quot;{ \&quot;cities\&quot;: [ \&quot;Tel-Aviv\&quot;, \&quot;Jerusalem\&quot;, \&quot;Hadera\&quot;]}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;SubscribeURL&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://sns.us-west-2.amazonaws.com/?Action=ConfirmSubscription&amp;TopicArn=arn:aws:sns:us-west-2:123456789012:MyTopic&amp;Token=2336412f37...&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Timestamp&quot;</span> <span class="p">:</span> <span class="s2">&quot;2012-04-26T20:45:04.751Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;SignatureVersion&quot;</span> <span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Signature&quot;</span> <span class="p">:</span> <span class="s2">&quot;EXAMPLEpH+DcEwjAPg8O9mY8dReBSwksfg2S7WKQcikcNKWLQjwu6A4VbeS0QHVCkhRS7fUQvi2egU3N858fiTDN6bkkOxYDVrY0Ad8L10Hs3zH81mtnPk5uvvolIC1CXGu43obcgFxeL3khZl8IKvO61GWB6jI9b5+gLPoBc1Q=&quot;</span><span class="p">,</span>
    <span class="nt">&quot;SigningCertURL&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://sns.us-west-2.amazonaws.com/SimpleNotificationService-f3ecfb7224c7233fe7bb5f59f96de52f.pem&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this case the <em>Topic</em> of this message is <code class="docutils literal notranslate"><span class="pre">SettingsTopic</span></code>, so only the <a class="reference internal" href="services.html#clinic-management-service"><span class="std std-ref">Clinic Management Service</span></a> in cluster <code class="docutils literal notranslate"><span class="pre">Clinic-X</span></code> will get this message.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Global configuration change, or defulat value change, the message will be sent to all the clinics (aka broadcast)</p>
</div>
</div>
</div>
<div class="section" id="admin-reports">
<h2>Admin Reports<a class="headerlink" href="#admin-reports" title="Permalink to this headline">¶</a></h2>
<p>In Admin Management Service will be an option to Generate report on Global view. In addition, the admin will be able to filter the results and generate the report on single clinic also.</p>
<p>The reports format will be in PDF or CVS.</p>
</div>
<div class="section" id="windows-servers">
<h2>Windows Servers<a class="headerlink" href="#windows-servers" title="Permalink to this headline">¶</a></h2>
<p>To Integrate Clinicult platform to another services that don’t support WEB API, we have option to send data from windows host machine.</p>
<p>The data the exists on S3 can be shared with those applications. when new file will be added/updated/deleted the windows machine will get notification from SNS that has S3 statues updates.</p>
<p>the process will download the changed data from s3 and will send it to the proper service <strong>outside</strong> clinicult platform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Maccami integration is the current use case for this machine</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="infrastructure.html" class="btn btn-neutral float-left" title="Infrastructure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="security.html" class="btn btn-neutral float-right" title="Security" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Clinicult.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>